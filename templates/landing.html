{% extends "base.html" %}

{% block title %}CarbonByte - Digital Carbon Footprint Calculator{% endblock %}

{% block content %}
<!-- Hero Section -->
<div style="background-color: #ffffff;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
        <div class="grid md:grid-cols-2 gap-8 items-center">
            <div class="text-left">
                <h1 class="text-3xl md:text-4xl font-bold mb-4 text-black">{{ config.hero.title }}</h1>
                <p class="text-xl mb-6 max-w-xl text-black">{{ config.hero.description }}</p>
                <a href="{{ url_for('auth.login') }}"
                    class="inline-flex items-center px-10 py-4 text-lg font-medium text-white bg-[#000fff] hover:bg-[#DB4A2B] transform transition-all duration-300 shadow-lg hover:shadow-xl">
                    Start Measuring Your Digital Footprint
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20"
                        fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z"
                            clip-rule="evenodd" />
                    </svg>
                </a>
            </div>
            <div class="bg-white shadow-lg p-6 transform hover:scale-[1.02] transition-transform duration-300">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Carbon Emissions Breakdown</h3>
                <div class="h-64 relative">
                    <canvas id="exampleChart"></canvas>
                </div>
                <p class="text-sm text-gray-500 mt-4 text-center">Visualization of your digital carbon footprint</p>
            </div>
        </div>
    </div>
</div>

<!-- Key Features Section -->
<div class="py-16" style="background-color: #fcfaf9;">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for feature in config.features %}
            <div
                class="p-6 transform hover:scale-105 transition-transform duration-300 shadow-sm hover:shadow-md bg-white">
                <h3 class="text-xl font-semibold mb-3 text-blue-700">{{ feature.title }}</h3>
                <p class="text-black">{{ feature.description }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- Value Chain Section -->
<!-- FAQ Section -->
<div class="bg-white py-16">
  <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl font-bold text-center mb-12">Frequently Asked Questions</h2>

    {% for section in config.faq %}
      <div class="mb-8">
        <h3 class="text-2xl font-semibold text-gray-800 mb-4">{{ section.category }}</h3>
        <div class="space-y-4">
          {% for item in section.questions %}
            <details class="hover:border-sky-200 border-2 blue-600 rounded-md p-4 bg-white-50">
              <summary class="font-medium text-lg cursor-pointer">{{ item.question }}</summary>
              <div class="mt-2 text-gray-700">
                <p>{{ item.answer }}</p>
                {% if item.list %}
                  <ul class="list-disc list-inside mt-2 text-gray-600">
                    {% for bullet in item.list %}
                      <li>{{ bullet }}</li>
                    {% endfor %}
                  </ul>
                {% endif %}
              </div>
            </details>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // FAQ Toggle Script
    function toggleFAQ(button) {
        const content = button.nextElementSibling;
        const arrow = button.querySelector('svg');
        content.classList.toggle('hidden');
        arrow.classList.toggle('rotate-180');
    }

    // Example Chart
    document.addEventListener('DOMContentLoaded', function () {
        const ctx = document.getElementById('exampleChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Content Delivery', 'End User Devices', 'Data Center', 'Advertising'],
                datasets: [{
                    data: [30, 25, 35, 10],
                    backgroundColor: [
                        '#573636',
                        '#ffe082',
                        '#db4a2b',
                        '#aed6e5'
                    ],
                    borderColor: '#FFFFFF',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 20,
                            font: {
                                size: 14
                            }
                        }
                    }
                },
                cutout: '65%',
                animation: {
                    animateScale: true,
                    animateRotate: true
                }
            }
        });
    });
</script>
{% endblock %}
